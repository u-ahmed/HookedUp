<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</head>
<body>

<button onclick="instagramclick()">Login to instagram</button>
<button onclick="myFunction()">Test Button</button>

<script>
class Instagram {
    public static $result;
    public static $display_size = 'thumbnail'; // you can choose between "low_resolution", "thumbnail" and "standard_resolution"
    public static $access_token = "DEFAULTACCESSTOKEN"; // default access token, optional
    public static $count = 10;
    public static function fetch($url){
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_TIMEOUT, 20);
        $result = curl_exec($ch);
        curl_close($ch);
        return $result;
    }
    function __construct($Token=null){
        if(!empty($Token)){
            self::$access_token = $Token;

            // Remove from memory -- not sure if really needed.
            $Token = null;
            unset($Token);
        }
        self::$result = json_decode(self::fetch("https://api.instagram.com/v1/users/self/media/recent?count=" . self::$count . "&access_token=" . self::$access_token), true);
    }
}
$Instagram = new Instagram('ACCESSTOKENIFCHANGEDORNULLOREMPTY');
foreach ($Instagram::$result->data as $photo) {
    $img = $photo->images->{$Instagram::$display_size};
}

function myFunction() {
	alert("Hello World");
}
function instagramclick(){
	alert("button clicked");
	window.location.href = "https://instagram.com/oauth/authorize/?client_id=8a612cd650344523808233c0468c80ed&redirect_uri=http://u-ahmed.github.io/HookedUp/instagram.html&response_type=token";
    }
window.onload = function writedamnyou(){
var token = window.location.href.substring(62);
if (token != ""){
	// document.write(token);
	var link = "https://api.instagram.com/v1/users/self/feed?access_token=" + token;

	document.write(link);
	document.getElementById('please').src = link;
}
};
$Instagram = new Instagram(link);
foreach ($Instagram::$result->data as $photo) {
    $img = $photo->images->{$Instagram::$display_size};
}
</script>
<script type="text/javascript" id="please" src=""></script>
</body>
</html>
